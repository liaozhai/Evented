{"version":3,"file":"main.js","sources":["../../src/index.ts"],"sourcesContent":["export default class Evented implements EventTarget {\r\n    private listeners:{ [type:string]:EventListener[] } = {};\r\n    addEventListener(type: string, callback: EventListener): void {\r\n        if(!(type in this.listeners)) {\r\n            this.listeners[type] = [];\r\n        }\r\n        this.listeners[type].push(callback);\r\n    }\r\n    on(type: string, callback: EventListener): Evented {\r\n        this.addEventListener(type, callback);\r\n        return this;\r\n    }\r\n    removeEventListener (type: string, callback: EventListener): undefined {\r\n        if(!(type in this.listeners)) {\r\n            return;\r\n        }\r\n        let stack = this.listeners[type];\r\n        for(let i = 0, l = stack.length; i < l; i++) {\r\n            if(stack[i] === callback){\r\n                stack.splice(i, 1);\r\n                return this.removeEventListener(type, callback);\r\n            }\r\n        }\r\n    }\r\n    off(type: string, callback: EventListener): Evented {\r\n        this.removeEventListener(type, callback);\r\n        return this;\r\n    }\r\n    dispatchEvent(event: Event): boolean {\r\n        if(!(event.type in this.listeners)) {\r\n            return false;\r\n        }\r\n        let stack = this.listeners[event.type];\r\n\t    Object.defineProperty(event, 'target', {\r\n            enumerable: false,\r\n            configurable: false,\r\n            writable: false,\r\n            value: this\r\n        });\r\n        for(let i = 0, len = stack.length; i < len; i++) {\r\n            stack[i].call(this, event);\r\n        }\r\n        return true;\r\n    }\r\n};"],"names":[],"mappings":";;;IAAA;QACY,cAAS,GAAqC,EAAE,CAAC;KA2C5D;IA1CG,kCAAgB,GAAhB,UAAiB,IAAY,EAAE,QAAuB;QAClD,IAAG,EAAE,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC,EAAE;YAC1B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;SAC7B;QACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KACvC;IACD,oBAAE,GAAF,UAAG,IAAY,EAAE,QAAuB;QACpC,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;QACtC,OAAO,IAAI,CAAC;KACf;IACD,qCAAmB,GAAnB,UAAqB,IAAY,EAAE,QAAuB;QACtD,IAAG,EAAE,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC,EAAE;YAC1B,OAAO;SACV;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACjC,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YACzC,IAAG,KAAK,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAC;gBACrB,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACnB,OAAO,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;aACnD;SACJ;KACJ;IACD,qBAAG,GAAH,UAAI,IAAY,EAAE,QAAuB;QACrC,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;QACzC,OAAO,IAAI,CAAC;KACf;IACD,+BAAa,GAAb,UAAc,KAAY;QACtB,IAAG,EAAE,KAAK,CAAC,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC,EAAE;YAChC,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC1C,MAAM,CAAC,cAAc,CAAC,KAAK,EAAE,QAAQ,EAAE;YAChC,UAAU,EAAE,KAAK;YACjB,YAAY,EAAE,KAAK;YACnB,QAAQ,EAAE,KAAK;YACf,KAAK,EAAE,IAAI;SACd,CAAC,CAAC;QACH,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC7C,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;SAC9B;QACD,OAAO,IAAI,CAAC;KACf;IACL,cAAC;AAAD,CAAC;;;;"}